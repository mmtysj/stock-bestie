<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Bestie! (Updated)</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&family=Montserrat:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { accent: '#0066cc', positive: '#4CAF50', negative: '#F44336' },
                    fontFamily: { 
                        montserrat: ['Montserrat', 'sans-serif'],
                        kanit: ['Kanit', 'sans-serif'] 
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Kanit', sans-serif; background-color: #f8f9fa; }
        h1, h2, h3, .font-montserrat { font-family: 'Montserrat', sans-serif; }
        .stock-card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .stock-card:hover { transform: translateY(-3px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .stock-logo { width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; border-radius: 12px; font-weight: bold; color: white; flex-shrink: 0; }
        .stock-initial { font-size: 20px; font-weight: 600; }
    </style>
</head>
<body class="bg-gray-100">
    <div class="max-w-md mx-auto bg-white min-h-screen">
        
        <div id="mainView">
            <header class="sticky top-0 z-50 bg-white shadow-sm">
                <div class="flex justify-between items-center px-4 py-3">
                    <h1 class="text-xl font-bold font-montserrat">Stock Bestie!</h1>
                </div>
            </header>
            <main id="cardView" class="p-4 grid grid-cols-2 gap-4"></main>
        </div>

        <div id="detailView" class="hidden">
            <header class="sticky top-0 z-50 bg-white shadow-sm flex items-center p-3">
                <button id="backBtn" class="p-2 rounded-full hover:bg-gray-100 mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                </button>
                <h1 id="detail-header-ticker" class="text-xl font-bold font-montserrat"></h1>
            </header>
            <main id="stock-details-content" class="p-4"></main>
        </div>

    </div>

<script>
    // --- NEW UPDATED STOCK DATA ---
    const fullStockData = {
        'HIMS': {
            fullName: 'Hims & Hers Health Inc.', price: '~47.46 USD',
            support: ['~45.50 USD (low เดือนก่อน)', '~43.00 USD (Fibonacci 0.382)', '~40.00 USD (แนวรับรายปี)'],
            resistance: ['~49.50–50.00 USD (high เก่า)', '~52.50 USD (high มี.ค.-เม.ย.)', '~55.00 USD (จิตวิทยา)'],
            analysis: 'ถ้าราคาไม่หลุด 45.50 จะถือเป็นโซนซื้อที่ดี การขึ้นเหนือแนวต้านแรกอาจเปิดโอกาสไปที่ 52+ ได้ แต่หากหลุด 43 อาจเบรคแนวโน้มกลางระยะ'
        },
        'OSCR': {
            fullName: 'Oscar Health Inc.', price: '~16.62 USD',
            support: ['~16.00 USD (โซนพักตัว)', '~15.50 USD (EMA 50 week)', '~14.80 USD (low ก่อน breakout)'],
            resistance: ['~17.20 USD (high วันก่อน)', '~18.00 USD (แนวคาดการณ์)', '~19.00 USD (ถัดไป)'],
            analysis: 'ขณะนี้ราคาย่อลงแตะแนวรับแรก หากเด้งจาก ~16 สามารถรอ Buy on dip ได้ แต่ถ้าร่วงหลุดแนว 15.50 ควรรอเก็บใหม่'
        },
        'ZETA': {
            fullName: 'Zeta Global', price: '~15.16 USD',
            support: ['~14.50 USD (body แท่งก่อน)', '~14.00 USD (EMA 200 day)', '~13.20 USD (low ปลายเม.ย.)'],
            resistance: ['~15.80 USD (high สัปดาห์ก่อน)', '~16.50 USD (แนวขายสะสม)', '~17.50 USD (high รอบเม.ย./มิ.ย.)'],
            analysis: 'การวิ่งกลับจากแนวต่ำอาจแสดงถึง sentiment กลุ่มเทคฯ ดี การปิดเหนือ 15.80 จะทำให้ momentum ชัดเจน แต่หากกลับร่วงใต้ 14.50 แล้ว ยังควรเฝ้าระวัง'
        },
        'AMD': {
            fullName: 'Advanced Micro Devices', price: '~138.52 USD',
            support: ['134 USD', '133 USD', '131 USD'],
            resistance: ['140 USD', '142 USD', '145 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> ตลาดชิปคอมพิวเตอร์และเซิร์ฟเวอร์ยังโตดี จากการเติบโตของ AI, Data Center และเกม ลูกค้ารายใหญ่ยังใช้ชิปต่อเนื่อง\n<strong>ปัญหา:</strong> แข่งขันหนักกับ Intel และ NVIDIA และความผันผวนของต้นทุนชิป'
        },
        'DLO': {
            fullName: 'DLocal Limited', price: '~11.16 USD',
            support: ['10.8 USD', '10.4 USD', '9.9 USD'],
            resistance: ['11.4 USD', '11.8 USD', '12.2 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> Payment Gateway สำหรับตลาดเกิดใหม่มีโอกาสโตสูง ขยายลูกค้าในละตินอเมริกาและแอฟริกา\n<strong>ปัญหา:</strong> ความเสี่ยงทางกฎระเบียบของแต่ละประเทศ และการแข่งขันจาก fintech รายใหม่'
        },
        'SOFI': {
            fullName: 'SoFi Technologies', price: '~18.12 USD',
            support: ['17.7 USD', '17.2 USD', '16.9 USD'],
            resistance: ['18.4 USD', '18.8 USD', '19.2 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> แพลตฟอร์มการเงินครบวงจร กำลังขยายฐานลูกค้า millennials และ Gen Z\n<strong>ปัญหา:</strong> กฎระเบียบการเงินที่เข้มงวดขึ้น และความเสี่ยงด้านเครดิต'
        },
        'LMND': {
            fullName: 'Lemonade, Inc.', price: '~42.00 USD',
            support: ['40 USD', '38.5 USD', '36 USD'],
            resistance: ['44 USD', '46 USD', '48 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> ธุรกิจประกันดิจิทัลเติบโตจากเทรนด์ใช้งานออนไลน์ ขยายผลิตภัณฑ์ได้ดี\n<strong>ปัญหา:</strong> กำไรยังผันผวน ต้องใช้เวลาปรับโมเดลธุรกิจ แข่งขันสูง'
        },
        'EOSE': {
            fullName: 'Eos Energy Enterprises', price: '~4.90 USD',
            support: ['4.7 USD', '4.5 USD', '4.2 USD'],
            resistance: ['5.1 USD', '5.4 USD', '5.8 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> เทคโนโลยีแบตเตอรี่พลังงานสะอาดเป็นที่ต้องการ รัฐบาลสนับสนุน\n<strong>ปัญหา:</strong> การแข่งขันสูงจากแบตเตอรี่ลิเทียม และต้นทุนการผลิตสูง'
        },
        'BBAI': {
            fullName: 'BigBear.ai Holdings', price: '~7.56 USD',
            support: ['7.3 USD', '7.0 USD', '6.5 USD'],
            resistance: ['7.8 USD', '8.2 USD', '8.6 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> AI และ Big Data ใช้เพิ่มประสิทธิภาพธุรกิจหลากหลาย ลูกค้าองค์กรขยายตัว\n<strong>ปัญหา:</strong> การแข่งขันกับบริษัท AI ใหญ่ และการรักษาความปลอดภัยข้อมูล'
        },
        'RKLB': {
            fullName: 'Rocket Lab USA', price: '~26.72 USD',
            support: ['26 USD', '25 USD', '23.5 USD'],
            resistance: ['28 USD', '30 USD', '32 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> ภาคขนส่งดาวเทียมเอกชนเติบโต กำลังขยายฐานลูกค้า\n<strong>ปัญหา:</strong> ความเสี่ยงด้านเทคนิคและโครงการล่าช้า และความผันผวนตลาดอวกาศ'
        },
        'NBIS': {
            fullName: 'Neobiotics Inc.', price: '~49.97 USD',
            support: ['48 USD', '46 USD', '44 USD'],
            resistance: ['52 USD', '54 USD', '56 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> กลุ่ม IPO ใหม่ที่ได้รับความสนใจ มีผลิตภัณฑ์น่าสนใจ\n<strong>ปัญหา:</strong> ผลประกอบการยังไม่มั่นคง และความผันผวนราคาจากการเก็งกำไร'
        },
        'NVTS': {
            fullName: 'Navitas Semiconductor', price: '~6.32 USD',
            support: ['6.0 USD', '5.7 USD', '5.3 USD'],
            resistance: ['6.6 USD', '7.0 USD', '7.5 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> ตลาดชิพกำลังไฟฟ้าโตจากรถไฟฟ้า มีเทคโนโลยีตอบโจทย์\n<strong>ปัญหา:</strong> การแข่งขันสูง และผลกระทบจากซัพพลายเชน'
        },
        'HOOD': {
            fullName: 'Robinhood Markets', price: '~97.98 USD',
            support: ['95 USD', '90 USD', '85 USD'],
            resistance: ['100 USD', '105 USD', '110 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> แพลตฟอร์มเทรดหุ้นและ crypto ที่ได้รับความนิยมสูง พัฒนาสินค้าใหม่ต่อเนื่อง\n<strong>ปัญหา:</strong> กฎระเบียบที่อาจเข้มงวดขึ้น และความเสี่ยงจากการแข่งขัน'
        },
        'RGTI': {
            fullName: 'Rigetti Computing', price: '~13.08 USD',
            support: ['12.5 USD', '11.8 USD', '11.0 USD'],
            resistance: ['13.8 USD', '14.5 USD', '15.2 USD'],
            analysis: '<strong>แนวโน้มธุรกิจ:</strong> Quantum computing เป็นเทคโนโลยีอนาคต โอกาสเติบโตสูง\n<strong>ปัญหา:</strong> ยังอยู่ในช่วงพัฒนา ต้นทุนสูง และความเสี่ยงเทคโนโลยีล้าสมัย'
        }
    };

    // --- HTML Generation Functions ---
    function createCardView(ticker, data) {
        return `
        <div onclick="showDetailView('${ticker}')" class="stock-card bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <div class="p-4">
                <div class="flex items-center mb-3">
                    <div class="stock-logo bg-gray-800 mr-3"><span class="stock-initial">${ticker.charAt(0)}</span></div>
                    <div>
                        <h3 class="font-semibold text-lg font-montserrat">${ticker}</h3>
                        <p class="text-xs text-gray-500 truncate w-28">${data.fullName}</p>
                    </div>
                </div>
                <p class="text-xl font-semibold text-gray-800 text-right">${data.price}</p>
            </div>
        </div>`;
    }

    function createDetailContent(ticker, data) {
        const analysisHtml = data.analysis.replace(/\n/g, '<br>');
        return `
            <div class="flex items-center mb-4">
                <div class="stock-logo bg-gray-800 mr-4 !w-16 !h-16"><span class="stock-initial !text-3xl">${ticker.charAt(0)}</span></div>
                <div>
                    <h2 class="text-2xl font-bold font-montserrat">${data.fullName}</h2>
                    <p class="text-3xl font-semibold text-gray-900">${data.price}</p>
                </div>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg space-y-4">
                <div>
                    <h3 class="font-semibold text-lg mb-2">บทวิเคราะห์</h3>
                    <p class="text-gray-700 leading-relaxed">${analysisHtml}</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h3 class="font-semibold mb-2 text-green-700">แนวรับ (Support)</h3>
                        <ul class="list-disc list-inside text-green-600 space-y-1">
                            ${data.support.map(s => `<li>${s}</li>`).join('')}
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-red-700">แนวต้าน (Resistance)</h3>
                        <ul class="list-disc list-inside text-red-600 space-y-1">
                             ${data.resistance.map(r => `<li>${r}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            </div>
        `;
    }

    // --- View Management Functions ---
    const mainView = document.getElementById('mainView');
    const detailView = document.getElementById('detailView');
    const detailHeaderTicker = document.getElementById('detail-header-ticker');
    const detailContent = document.getElementById('stock-details-content');

    function showDetailView(ticker) {
        const data = fullStockData[ticker];
        if (data) {
            detailHeaderTicker.textContent = ticker;
            detailContent.innerHTML = createDetailContent(ticker, data);
            mainView.classList.add('hidden');
            detailView.classList.remove('hidden');
            window.scrollTo(0, 0);
        }
    }

    function showMainView() {
        detailView.classList.add('hidden');
        mainView.classList.remove('hidden');
    }

    // --- Initial Load ---
    document.addEventListener('DOMContentLoaded', () => {
        const cardViewContainer = document.getElementById('cardView');
        const backBtn = document.getElementById('backBtn');
        backBtn.addEventListener('click', showMainView);

        // Render stock cards from the static data object
        cardViewContainer.innerHTML = '';
        for (const ticker in fullStockData) {
            cardViewContainer.innerHTML += createCardView(ticker, fullStockData[ticker]);
        }
    });
</script>
</body>
</html>
